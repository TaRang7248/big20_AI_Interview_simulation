# AI 모의면접 정량 평가 루브릭 가이드

> 이 문서는 AI 면접 시스템의 **평가 엔진(Eval Engine)** 구현을 위한 핵심 로직을 정의합니다.  
> AI가 주관적인 감에 의존하지 않고, **기계적으로 측정 가능한(Quantifiable) 지표**를 기반으로 점수를 산출하도록 설계되었습니다.

---

## 1. 평가 영역 및 판단 로직 (Rubric Table)

| 영역 | 평가 항목 | 1점 (미흡) | 3점 (보통) | 5점 (탁월) | 💡 AI 판단 로직 (Implementation) |
|---|---|---|---|---|---|
| **직무 역량** | **개념 정확성** | 오개념/틀린 정보 답변 | 교과서적 정의 수준 | 원리 이해 및 Trade-off 설명 | RAG 결과물과의 Cosine Similarity 분석 + 핵심 키워드 매칭 |
| | **코드 품질** | 실행 불가/요건 미달 | 단순 동작/낮은 가독성 | 복잡도 최적화/예외 처리 완벽 | Web IDE 실행 결과 + **Python AST 분석**(복잡도 산출) |
| **문제 해결** | **접근 방식** | 엉뚱한 방향/포기 | 힌트 제공 후 해결 | 스스로 구조화(Decomposition) | 대화 턴 내 '힌트 제공 횟수' 카운트 + 재정의(Rephrasing) 발화 감지 |
| | **논리적 전개** | 횡설수설/근거 빈약 | 근거가 일반론에 그침 | Data-driven/인과관계 명확 | 인과관계 접속사 빈도 분석 + 수치/고유명사 포함 비율 |
| **의사소통** | **STAR 기법** | 나열식/설명 치중 | 결과(Result) 모호 | S-T-A-R 흐름이 완벽함 | LLM 프롬프트를 통한 STAR 4단계 구조적 부합도 검증 |
| | **의도 파악** | 동문서답/요지 미파악 | 핵심을 빗나감/장황함 | 핵심 우선(두괄식)/의도 적중 | 질문-답변 벡터 간 **Semantic Relevance** 점수 산출 |
| **비언어/태도** | **시선 처리** | 시선 불안정/회피 | 대체로 화면 응시 | 지속적인 Eye Contact | **Gaze Tracking**: Center Box 내 동공 위치 체류 시간 비율(%) |
| | **표정/음성** | 무표정/긴장/작은 목소리 | 평이한 표정/톤 | 미소/안정된 발성/제스처 | **Emotion Recognition**: Fear/Sad 비율 및 dB 변동성 측정 |

---

## 2. 직군별 최종 점수 가중치 (Weighting)

최종 점수 산출 시 직무 특성에 맞는 가중치를 합산하여 계산합니다.

- **개발자 직군**: `직무(40%)` + `문제해결(30%)` + `의사소통(20%)` + `태도(10%)`
- **비기술 직군**: `의사소통(40%)` + `문제해결(30%)` + `직무(20%)` + `태도(10%)`

---

## 3. 개발 실장 가이드 (System Prompt)

LLM 평가 모듈 구현 시 아래의 JSON 구조를 반환하도록 프롬프트를 고정합니다.

```json
{
  "category": "평가영역명",
  "score": 1~5,
  "tag_code": "capability.knowledge",
  "rationale": "평가 근거 요약",
  "evidence_data": {
    "cosine_similarity": 0.89,
    "keyword_match": ["REST", "Stateless"],
    "star_structure": true
  },
  "improvement_feedback": "성장을 위한 구체적 조언"
}
```

---

## 4. 운영 주의 사항
- 모든 평가 근거는 `EVALUATION_SCORES` 테이블의 `evidence_data` (jsonb)에 상세히 저장되어야 합니다.
- 시선 처리 및 감정 분석의 신뢰도(Confidence)가 낮을 경우 별도의 로그로 기록합니다.
