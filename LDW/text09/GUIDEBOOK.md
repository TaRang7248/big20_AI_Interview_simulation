# AI 면접 시뮬레이션 가이드북 (GUIDEBOOK.md)

## 1. 프로젝트 개요 (Overview)
**AI 면접 시뮬레이션**은 최신 AI 기술(GPT-4o, Whisper)을 활용하여 실제 면접과 유사한 환경을 제공하는 웹 기반 애플리케이션입니다. 사용자는 이력서를 등록하고, AI 면접관의 질문에 음성으로 답변하며, 실시간으로 답변을 분석받고 꼬리 질문을 받게 됩니다.

### 주요 특징
- **실시간 인터랙티브 면접**: 음성 인식(STT)과 음성 합성(TTS - 브라우저 내장 또는 향후 확장)을 통한 자연스러운 대화.
- **맞춤형 질문 생성**: 업로드된 이력서(PDF)를 분석하여 지원자의 경험에 맞춘 개인화된 질문 제공.
- **심층 답변 분석**: 답변의 논리성, 구체성 등을 AI가 실시간으로 분석 및 평가.
- **꼬리 질문 시스템**: 단순한 일문일답이 아닌, 이전 답변에 기반한 심층 꼬리 질문 생성.
- **관리자 기능**: 채용 공고 관리, 지원자 현황 조회 기능 제공.

---

## 2. 개발 및 실행 환경 (Environment)

이 프로젝트는 **Windows** 환경을 기준으로 개발되었습니다.

### 필수 요구 사항
- **OS**: Windows (권장), macOS, Linux
- **Python**: 3.8 이상 (3.10 권장)
- **Database**: PostgreSQL 13 이상
- **Browser**: Chrome, Edge (마이크/카메라 권한 필요)

### 환경 변수 (.env)
프로젝트 루트 디렉토리에 `.env` 파일이 필요합니다.
```ini
DB_HOST=localhost
DB_NAME=interview_db
DB_USER=postgres
POSTGRES_PASSWORD=사용자비밀번호
DB_PORT=5432
OPENAI_API_KEY=sk-proj-... (OpenAI API 키)
```

---

## 3. 프로그램 실행 방법 (Execution)

### 1단계: 프로젝트 준비
터미널(PowerShell 또는 CMD)에서 프로젝트 폴더로 이동합니다.
```bash
cd C:\big20\big20_AI_Interview_simulation\LDW\text09
```

### 2단계: 가상환경 설정 (권장)
```bash
python -m venv venv
venv\Scripts\activate
```

### 3단계: 라이브러리 설치
```bash
pip install -r requirements.txt
```

### 4단계: 데이터베이스 초기화
최초 실행 시 테이블을 생성해야 합니다.
```bash
python create_table.py
```
*(선택 사항: `python check_table.py`로 테이블 생성 확인 가능)*

### 5단계: 서버 실행
```bash
python server.py
```
- 서버가 정상적으로 실행되면 브라우저가 자동으로 열리며 `http://localhost:5000`으로 접속됩니다.
- 만약 자동으로 열리지 않으면 브라우저 주소창에 직접 입력하세요.

---

## 4. 사용 라이브러리 (Libraries)

주요 사용 라이브러리는 다음과 같습니다. (`requirements.txt` 참조)

| 라이브러리 | 용도 | 비고 |
| :--- | :--- | :--- |
| **FastAPI** | 웹 서버 프레임워크 | 고성능 비동기 서버 |
| **Uvicorn** | ASGI 웹 서버 | FastAPI 실행을 위한 서버 |
| **Psycopg2** | PostgreSQL 어댑터 | DB 연결 및 쿼리 실행 |
| **OpenAI** | LLM & STT API | GPT-4o, Whisper 활용 |
| **PyPDF** | PDF 처리 | 이력서 텍스트 추출 |
| **Python-dotenv** | 환경 변수 관리 | .env 파일 로드 |
| **Jinja2** (내장) | 등 템플릿 엔진 | HTML 렌더링 (FastAPI 기본 포함) |

---

## 5. 주요 기능 사용법 (User Guide)

### 1) 회원가입 및 로그인
- **회원가입**: ID, 비밀번호, 이름, 이메일 등을 입력하여 가입합니다. 기본적으로 '지원자' 권한으로 생성됩니다.
- **로그인**: 가입한 정보로 로그인합니다.

### 2) 채용 공고 확인 및 지원
- 메인 화면의 **[채용 공고]** 리스트에서 원하는 직무를 확인합니다.
- **[지원하기]** 버튼을 클릭하여 해당 공고에 지원할 준비를 합니다.

### 3) 이력서 업로드
- 지원 화면에서 **PDF 형식**의 이력서 파일을 업로드합니다.
- 업로드된 이력서는 면접 질문 생성의 기초 데이터로 활용됩니다.

### 4) 면접 설정 및 시작
- 카메라와 마이크 권한을 허용했는지 브라우저 알림창에서 확인합니다.
- **[면접 시작]** 버튼을 누르면 AI 면접관과의 인터뷰가 시작됩니다.

### 5) 면접 진행
1. AI가 첫 질문을 합니다. (텍스트 출력 + 음성 질문)
2. 사용자는 마이크에 대고 답변을 합니다. (최대 90초)
3. 답변을 마치면 **[답변 제출]** 버튼을 누르거나, 시간이 다 되면 자동 제출됩니다.
4. AI가 답변을 분석하는 동안 "잠시만 기다려주세요..." 메시지가 표시됩니다.
5. AI가 꼬리 질문을 생성하여 다음 질문을 이어갑니다.

### 6) 면접 종료 및 결과
- 정해진 횟수나 판단에 따라 면접이 종료됩니다.
- 면접 종료 후 초기 화면으로 돌아가거나 결과 페이지(구현 예정)를 확인할 수 있습니다.

---

## 6. 파일 구조 설명 (File Structure)

```
text09/
├── server.py              # [핵심] Backend API 서버. FastAPI 앱, DB 연결, LLM 호출 로직 포함
├── app.js                 # [핵심] Frontend 로직. UI 제어, 오디오 녹음, API 통신 담당
├── index.html             # 웹 페이지 구조 (메인 화면, 면접 화면, 로그인 등 SPA 형태)
├── styles.css             # 전체 디자인 스타일 시트
├── create_table.py        # DB 테이블 초기 생성 스크립트
├── check_table.py         # DB 테이블 상태 확인 스크립트
├── requirements.txt       # 프로젝트 의존성 라이브러리 목록
├── GUIDEBOOK.md           # 프로젝트 매뉴얼 (본 파일)
├── .env                   # (비공개) 환경 변수 및 API 키 설정 파일
└── uploads/               # 파일 저장소
    ├── resumes/           # 업로드된 이력서 PDF 저장
    └── audio/             # 면접 답변 녹음 파일 저장 (.webm)
```

---

## 7. 트러블슈팅 및 주의사항

- **"답변 없음" 발생 시**:
    - 마이크 볼륨을 확인하고, 주변 소음을 최소화하세요.
    - 브라우저의 마이크 권한이 차단되어 있는지 확인하세요.
- **서버 오류 (500 Error)**:
    - 터미널의 에러 로그를 확인하세요.
    - 대부분 DB 연결 문제(`OperationalError`)이거나 OpenAI API 키 관련 문제입니다.
- **환각(Hallucination) 현상**:
    - Whisper 모델 특성상 침묵 구간에서 "감사합니다" 등의 자막이 생성될 수 있으나, 서버 로직에서 이를 필터링하지 않도록 설정되어 있습니다. (사용자 요청에 따라 필터링 해제됨)

---
*작성일: 2026년 2월 10일*
*작성자: Antigravity Agent*
